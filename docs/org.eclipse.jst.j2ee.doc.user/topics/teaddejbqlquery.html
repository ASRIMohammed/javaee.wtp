<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="copyright" content="(C) Copyright IBM Corporation 2004" />
<meta name="DC.rights.owner" content="(C) Copyright IBM Corporation 2004" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="DC.Type" content="task" />
<meta name="DC.Title" content="Adding finder methods to EJB 2.x beans using EJB QL" />
<meta name="abstract" content="You can add &#34;find&#34; or &#34;ejbSelect&#34; finder methods to the home interfaces of EJB 2.x CMP beans. The finder methods use the EJB query language. A wizard guides you through the steps for adding new or existing finders to your bean." />
<meta name="description" content="You can add &#34;find&#34; or &#34;ejbSelect&#34; finder methods to the home interfaces of EJB 2.x CMP beans. The finder methods use the EJB query language. A wizard guides you through the steps for adding new or existing finders to your bean." />
<meta name="DC.Relation" scheme="URI" content="../topics/cefinders.dita" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="teaddejbqlquery" />
<meta name="DC.Language" content="en-us" />
<!-- All rights reserved. Licensed Materials Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../com.ibm.help.doc/ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../com.ibm.help.doc/swg_info_common.css" />
<title>Adding finder methods to EJB 2.x beans using EJB QL</title>
<script language="JavaScript">
    function popup_window( url, id, width, height )
    {
      popup = window.open( url, id, 'toolbar=no,scrollbars=no,location=no,statusbar=no,menubar=no,resizable=no,width=' + width + ',height=' + height + ',left=,top=' );
      popup.focus();
    }
</script><script language="JavaScript" src="help/liveHelp.js"></script></head>
<body id="teaddejbqlquery"><a name="teaddejbqlquery"><!-- --></a>

<h1 class="topictitle1">Adding finder methods to EJB 2.x beans using EJB QL</h1>
<div><p>You can add "find" or "ejbSelect" finder methods to the home interfaces
of EJB 2.x CMP beans. The finder methods use the EJB query language. A wizard
guides you through the steps for adding new or existing finders to your bean.</p><div class="skipspace"><p>The EJB query language (EJB QL) syntax is based on SQL and allows
searches on the persistent attributes of an enterprise bean and associated
bean attributes. The query language is independent of the bean's mapping to
a relational datastore and it is portable. The query language is compiled
into SQL at deployment time based on the schema mapping for the bean.</p>
<p>For
details on EJB QL, go to the <a href="http://www-306.ibm.com/software/webservers/appserv/infocenter.html" target="_blank">WebSphere Application Server Information Center</a> and
search for the keywords "EJB QL".</p>
<p>To add an EJB QL query to an EJB 2.x
enterprise bean:</p>
</div>
<ol><li class="skipspace"><span>In the Project Explorer view of the J2EE perspective, right-click
the Deployment Descriptor for your EJB project and select <span class="menucascade"><span class="uicontrol">Open
With</span> &gt; <span class="uicontrol">Deployment Descriptor Editor</span></span> to
open the deployment descriptor editor.</span></li>
<li class="skipspace"><span>On the Bean page of the editor, select the EJB 2.x CMP entity bean
that you want to add a finder method to.</span></li>
<li class="skipspace"><span>Scroll to the Queries section, and click <span class="uicontrol">Add</span>.
The Add Finder Descriptor wizard opens.</span></li>
<li class="skipspace"><span>Select one of the following options:</span><ul><li><span class="uicontrol">New</span> - creates a new finder method.</li>
<li><span class="uicontrol">Existing</span> - uses an existing finder method.</li>
</ul>
</li>
<li class="skipspace"><span>Select a method type from the following choices:</span><ul><li><span class="uicontrol">find Method</span> - Finder methods are defined in
the home interfaces (local, remote, or both) of entity beans. The return and
result of the finder method depends on where it defined.</li>
<li><span class="uicontrol">ejbSelect method</span> - ejbSelect methods are special
query methods not directly exposed through the client view. ejbSelect methods
are typically used to select the persistent state of an entity, or to select
entities that are related to the entity bean for which the query is defined.</li>
</ul>
</li>
<li class="skipspace"><span>If you are using an existing finder, select from a list of finders
that were discovered, then click <span class="uicontrol">Finish</span>.</span></li>
<li class="skipspace"><span>If you are defining a new finder, complete the following steps.</span></li>
<li class="skipspace"><span>For the type of finder, select at least one of the following check
boxes:</span><ul><li><span class="uicontrol">Local</span> - Select to add the method declaration
to the local home interface for local method calls.</li>
<li><span class="uicontrol">Remote</span> - Select to add the method declaration
to the remote home interface for remote method calls.</li>
</ul>
 You can select both check boxes to include the finder in both remote
and local interfaces. The check box will only be available if your bean includes
the respective interface.</li>
<li class="skipspace"><strong>Optional: </strong><span>If you are creating an ejbSelect method,
you can select the <b>Return remote entities</b> check box. This option indicates
that you want remote references returned. This option is only available with
this method type.</span></li>
<li class="skipspace"><span>In the <span class="uicontrol">Name</span> field, type a name for the new
query. Query method names must begin with the letters indicating the type
selected, for example <samp class="codeph">find</samp> or <samp class="codeph">ejbSelect</samp>.</span></li>
<li class="skipspace"><strong>Optional: </strong><span>Click <span class="uicontrol">Add</span> to add a
method parameter.</span></li>
<li class="skipspace"><span>In the <span class="uicontrol">Return type</span> drop-down list, select
the type that the finder method will return.</span></li>
<li class="skipspace"><span>Click <span class="uicontrol">Next</span>. The <span class="uicontrol">Bean</span>, <span class="uicontrol">Abstract
schema name</span>, and <span class="uicontrol">Query method name</span> fields
are read-only.</span></li>
<li class="skipspace"><strong>Optional: </strong><span>Type a description for your method in the <span class="uicontrol">Description</span> text
area.</span></li>
<li class="skipspace"><strong>Optional: </strong><span>To help you generate your EJB query, you
can start with a sample query in the <span class="uicontrol">Select a sample query</span> drop
down list.</span></li>
<li class="skipspace"><span>Type or modify your query in the <span class="uicontrol">Query statement</span> text
area.</span></li>
<li class="skipspace"><span>Click <span class="uicontrol">Finish</span>.</span></li>
</ol>
<div class="skipspace">A <samp class="codeph">&lt;query&gt;&lt;/query&gt;</samp> element is added to the deployment
descriptor for the bean. The actual query is added to the <samp class="codeph">&lt;ejb-ql&gt;&lt;/ejb-ql&gt;</samp> element.
The method declaration is added to the home interface (local, remote, or both,
depending on your selections).</div>
<div class="skipspace">To edit or remove the query, select the query in the Queries section
and click <span class="uicontrol">Edit</span> or <span class="uicontrol">Remove</span>.</div>
</div>

<div><p><b class="relconceptshd">Related concepts</b><br />
<a href="../topics/cefinders.html" title="This topic describes support for queries in EJB 2.x CMP entity beans. For EJB 1.1 CMP entity beans, WebSphere Application Server provides extensions for finder support.">Finder methods for CMP entity beans</a><br />
</p>
</div><div class="runningfooter">
		<a href="http://www.ibm.com/legal/" target="_blank">Terms of use</a> | 
		<a href="https://www6.software.ibm.com/reg/rational/rdf-i" target="_blank">Feedback</a>	
		<br />
		(C) Copyright IBM Corporation 2000, 2004. All Rights Reserved.
		<br /> 
</div>
</body>
</html>