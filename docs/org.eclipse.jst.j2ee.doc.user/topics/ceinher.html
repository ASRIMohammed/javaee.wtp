<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<link rel="stylesheet" type="text/css" href="../../org.eclipse.wst.doc.user/common.css" />
<title>EJB inheritance</title>
</head>
<body id="ceinher"><a name="ceinher"><!-- --></a>

<h1 class="topictitle1">EJB inheritance</h1>
<div><p>The EJB deployment descriptor editor can help you define inheritance
relationships between enterprise beans.</p><p>You can use the tools to define two forms of inheritance:</p>
<ul><li>Standard class inheritance</li>
<li>EJB inheritance</li>
</ul>
<p>In standard class inheritance, the home interface, remote interface, or
enterprise bean class inherits properties and methods from base classes that
are not themselves enterprise bean classes or interfaces. You would specify
the bean superclass using the superclass field of the enterprise bean wizard.</p>
<p>In EJB inheritance, by comparison, an enterprise bean inherits properties
(such as CMP fields and relationship roles), methods, and method-level assembly
descriptor attributes from another enterprise bean that resides in the same
EJB module. To assist you in defining an EJB inheritance relationship, the
New Enterprise Bean wizard allows you to create a new enterprise bean that
inherits from an existing enterprise bean. The EJB editor allows you to change
the inheritance structure of existing enterprise beans, which updates the
generated Java™ code.</p>
<p>This product supports several other ways to change the parent using the
wizard available from the Inheritance section of the EJB editor:</p>
<ul><li>Move a bean class in an inheritance structure (not the root) to a different
inheritance structure (change the parent).</li>
<li>Add a parent to an existing bean class that is not currently in an inheritance
structure. The inherited bean, and all its subtypes, will now reference the
key class of its supertype. The key shape of the inherited bean will change,
and as a result, methods of its bean class and remote information may change
or be removed. If the old key class is no longer referenced by another Java class,
it can be safely deleted.</li>
<li>Remove a bean from an inheritance structure, so that it becomes a root.
You you must specify a key class. The EJB tools will create a key for you
if you chose to do so. It will have the same attributes as the bean's previous
key, so the class/bean is still valid. For example, suppose that you have
Employee as the parent of <i>PTEmployee</i>. When you move <i>PTEmployee</i> out, <i>PTEmployeeKey</i> can
be created as a new key class. When you click <span class="uicontrol">OK</span>, the
tools preserve, reflect, and automatically generate the same fields.</li>
</ul>
<p>Some of the characteristics of EJB inheritance are:</p>
<ul><li>For CMP entity beans, there is support for single table and root-leaf
table mapping. However, large hierarchies (wide or deep) might perform poorly
because of the large size of the SQL statements. Root-leaf mapping is more
susceptible to this issue because of the number of joins involved in the SQL
statement.</li>
<li>The deployment descriptor lists all of the CMP fields for each enterprise
bean, including those fields that have been inherited. Method permissions
and method transactions that are defined for a supertype EJB are created for
each subtype enterprise bean. This is also true for EJB references.</li>
<li>When an inheritance relationship is defined between enterprise beans,
all home methods that are not part of an association are copied to the child
bean. The child home interface does not extend the home interface of the supertype
enterprise bean in order to have specific create methods on subtypes, without
having to support the supertype create methods.</li>
<li>The bean class of the new child enterprise bean extends the bean class
of the parent enterprise bean. No parent bean class methods are defined in
the child bean class.</li>
<li>The local and remote interfaces extend the remote interface of the supertype
enterprise bean.</li>
<li>Key classes are common to all inherited enterprise beans. In other words,
the key class in the child enterprise bean is identical to the key class in
the parent enterprise bean.</li>
<li>You can only add to the key at the root bean.</li>
</ul>
<div class="skipspace"><h4 class="sectiontitle">Source page and EJB inheritance</h4>If
you are modifying CMP entity beans in an inheritance hierarchy, you should
use the wizards and interface portions of the EJB deployment descriptor editor,
not the Source page. For example, if you want to add or remove CMP fields
or change the primary key field of a CMP bean, these fields are synchronized
by the tools for all inherited beans, in order to keep the beans in compliance
with the EJB specification. Such synchronization may not occur if you change
the source in the Source page.</div>
</div>
		<br />
		(C) Copyright IBM Corporation 2000, 2005. All Rights Reserved.
</body>
</html>