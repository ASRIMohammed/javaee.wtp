<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<link rel="stylesheet" type="text/css" href="../../org.eclipse.wst.doc.user/common.css" />
<title>Defining container transactions for EJB modules</title>
</head>
<body id="teaddcontainertran"><a name="teaddcontainertran"><!-- --></a>

<h1 class="topictitle1">Defining container transactions for EJB modules</h1>
<div><p>Some container transaction settings are not available for all enterprise
beans. Also, some methods are not available for particular transaction settings
and beans. These rules have been implemented in the Add Container Transaction
wizard based on the EJB 1.1 and EJB 2.x specifications.</p><div class="skipspace"><p>To add a container transaction to an enterprise bean:</p>
</div>
<ol><li><span>In the Project Explorer view of the J2EE perspective, right-click
the Deployment Descriptor for your EJB project and select <span class="menucascade"><span class="uicontrol">Open
With</span> &gt; <span class="uicontrol">Deployment Descriptor Editor</span></span> to
open the deployment descriptor editor.</span></li>
<li><span>On the <span class="uicontrol">Assembly</span> page of the editor, click <span class="uicontrol">Add</span> in
the Container Transactions section.</span></li>
<li><span>Select one or more enterprise beans from the list of beans found.</span></li>
<li><span>Select a container transaction type from the following choices:</span><ul><li><span class="uicontrol">NotSupported -</span> Directs the container to invoke
bean methods without a transaction context. If a client calls a bean method
from within a transaction context, the container suspends the association
between the transaction and the current thread before invoking the method
on the enterprise bean instance. The container then resumes the suspended
association when the method invocation returns. The suspended transaction
context is not passed to any enterprise bean objects or resources that are
used by this bean method.</li>
<li><span class="uicontrol">Supports -</span> Directs the container to invoke
the bean method within a transaction context if the client calls the bean
method within a transaction . If the client calls the bean method without
a transaction context, the container calls the bean method without a transaction
context. The transaction context is passed to any enterprise bean objects
or resources that are used by this bean method.</li>
<li><span class="uicontrol">Required -</span> Directs the container to invoke
the bean method within a transaction context. If a client calls a bean method
from within a transaction context, the container calls the bean method within
the client transaction context. If a client calls a bean method outside a
transaction context, the container creates a new transaction context and calls
the bean method from within that context. The transaction context is passed
to any enterprise bean objects or resources that are used by this bean method.</li>
<li><span class="uicontrol">RequiresNew -</span> Directs the container to always
invoke the bean method within a new transaction context, regardless of whether
the client calls the method within or outside a transaction context. The transaction
context is passed to any enterprise bean objects or resources that are used
by this bean method.</li>
<li><span class="uicontrol">Mandatory -</span> Directs the container to always
invoke the bean method within the transaction context associated with the
client. If the client attempts to invoke the bean method without a transaction
context, the container throws the javax.jts.TransactiononRequiredException
exception to the client. The transaction context is passed to any EJB object
or resource accessed by an enterprise bean method. EJB clients that access
these entity beans must do so within an existing transaction . For other enterprise
beans, the enterprise bean or bean method must implement the Bean Managed
value or use the Required or Requires New value. For non-enterprise bean EJB
clients, the client must invoke a transaction by using the javax.transaction.UserTransaction
interface.</li>
<li><span class="uicontrol">Never -</span> Directs the container to invoke bean
methods without a transaction context. If the client calls a bean method from
within a transaction context, the container throws the java.rmi.RemoteException
exception. If the client calls a bean method from outside a transaction context,
the container behaves in the same way as if the Not Supported transaction
attribute was set. The client must call the method without a transaction context</li>
</ul>
</li>
<li><span>Select one or more methods elements from the list.</span></li>
<li><span>Click <span class="uicontrol">Finish</span>.</span></li>
</ol>
<div class="skipspace">The container transaction is added and displayed in the Container
Transactions section, where the container transactions are listed by container
transaction type.</div>
<div class="skipspace">After you define container transactions, you can use the deployment
descriptor editor to work with them.<ul><li>To edit a container transaction, select it from the Container Transactions
list and click <span class="uicontrol">Edit</span>.</li>
<li>To delete a container transaction, select from the list and click <span class="uicontrol">Remove</span>.</li>
<li>To take multiple container transactions that are the same container transaction
type and combine them into a single container transaction definition, click <span class="uicontrol">Combine</span>.</li>
</ul>
</div>
</div>

<div><p><b class="relconceptshd">Related concepts</b><br />
<a href="../topics/ceejbed.html" title="The EJB deployment descriptor editor is used to modify EJB JAR files and associated Java files.">EJB Deployment Descriptor editor</a><br />
</p>
</div>		<br />
		(C) Copyright IBM Corporation 2000, 2005. All Rights Reserved.
</body>
</html>