<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>

     <extension
         id="context.Sensitive.Class.workingCopyManager"
         name="Working Copy Manager - Headless Context Class"
         point="org.eclipse.jem.util.uiContextSensitiveClass">
      <uiContextSensitiveClass
            key="workingCopyManager"
            context="Headless"
            className="org.eclipse.jst.common.jdt.internal.integration.WTPWorkingCopyManager">
      </uiContextSensitiveClass>
   </extension>
   
   <extension
        id="javaProjectValidationHandler"
        name="javaProjectValidationHandler"
        point="org.eclipse.wst.validation.validationSelectionHandler">
      <validationSelectionHandler
        id="javaProjectValidationHandler"
        handlerClass="org.eclipse.jst.common.jdt.internal.integration.JavaProjectValidationHandler"
        selectionType="org.eclipse.jdt.core.IJavaProject"/>
   </extension>
   <extension
         point="org.eclipse.wst.common.emfworkbench.integration.editModel">
      <editModel
            editModelID="jst.utility"
            factoryClass="org.eclipse.jst.common.jdt.internal.integration.JavaArtifactEditModelFactory">
      </editModel>
   </extension>
   
   <!-- Project Facets -->
	<extension point="org.eclipse.wst.common.project.facet.core.facets">
  
    <project-facet id="jst.java">
      <label>Java</label>
      <description>%jstJavaFacetDescription</description>
      <default-version provider="org.eclipse.jst.common.project.facet.JavaFacetDefaultVersionProvider"/>
    </project-facet>

    <project-facet-version facet="jst.java" version="1.3">
      <action type="install">
        <delegate class="org.eclipse.jst.common.project.facet.JavaFacetInstallDelegate"/>
        <config-factory class="org.eclipse.jst.common.project.facet.JavaFacetInstallDataModelProvider"/>
      </action>
      <action type="version-change">
        <delegate class="org.eclipse.jst.common.project.facet.JavaFacetVersionChangeDelegate"/>
      </action>
      <event-handler type="RUNTIME_CHANGED">
        <delegate class="org.eclipse.jst.common.project.facet.JavaFacetRuntimeChangedDelegate"/>
      </event-handler>
      <constraint>
        <conflicts facet="wst.web"/>
      </constraint>
    </project-facet-version>

    <project-facet-version facet="jst.java" version="1.4">
      <action type="install">
        <delegate class="org.eclipse.jst.common.project.facet.JavaFacetInstallDelegate"/>
        <config-factory class="org.eclipse.jst.common.project.facet.JavaFacetInstallDataModelProvider"/>
      </action>
      <action type="version-change">
        <delegate class="org.eclipse.jst.common.project.facet.JavaFacetVersionChangeDelegate"/>
      </action>
      <event-handler type="RUNTIME_CHANGED">
        <delegate class="org.eclipse.jst.common.project.facet.JavaFacetRuntimeChangedDelegate"/>
      </event-handler>
      <constraint>
        <conflicts facet="wst.web"/>
      </constraint>
    </project-facet-version>

    <project-facet-version facet="jst.java" version="5.0">
      <action type="install">
        <delegate class="org.eclipse.jst.common.project.facet.JavaFacetInstallDelegate"/>
        <config-factory class="org.eclipse.jst.common.project.facet.JavaFacetInstallDataModelProvider"/>
      </action>
      <action type="version-change">
        <delegate class="org.eclipse.jst.common.project.facet.JavaFacetVersionChangeDelegate"/>
      </action>
      <event-handler type="RUNTIME_CHANGED">
        <delegate class="org.eclipse.jst.common.project.facet.JavaFacetRuntimeChangedDelegate"/>
      </event-handler>
      <constraint>
        <conflicts facet="wst.web"/>
      </constraint>
    </project-facet-version>

    <project-facet-version facet="jst.java" version="6.0">
      <action type="install">
        <delegate class="org.eclipse.jst.common.project.facet.JavaFacetInstallDelegate"/>
        <config-factory class="org.eclipse.jst.common.project.facet.JavaFacetInstallDataModelProvider"/>
      </action>
      <action type="version-change">
        <delegate class="org.eclipse.jst.common.project.facet.JavaFacetVersionChangeDelegate"/>
      </action>
      <event-handler type="RUNTIME_CHANGED">
        <delegate class="org.eclipse.jst.common.project.facet.JavaFacetRuntimeChangedDelegate"/>
      </event-handler>
      <constraint>
        <conflicts facet="wst.web"/>
      </constraint>
    </project-facet-version>

  </extension>
  
  <extension point="org.eclipse.wst.common.project.facet.core.validators">
    <validator class="org.eclipse.jst.common.project.facet.JavaFacetValidator">
      <facet id="jst.java"/>
    </validator>
  </extension>    

  <extension 
    point="org.eclipse.core.resources.markers"
    id="javaVersionMismatch"
    name="%javaVersionMismatchMarkerName">
    <super type="org.eclipse.wst.common.project.facet.core.validation.marker"/>
    <attribute name="facetVersion"/>
    <attribute name="compilerLevel"/>
    <persistent value="true"/>
  </extension>
  
</plugin>
